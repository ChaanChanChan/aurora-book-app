"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnderscoredIndex = void 0;
const lodash_1 = require("lodash");
const sequelize_typescript_1 = require("sequelize-typescript");
function UnderscoredIndex(...args) {
    if (arguments.length >= 2) {
        const type = args[0];
        const key = args[1];
        const indexDecoratorOptions = args[2];
        (0, sequelize_typescript_1.annotateModelWithIndex)(type, (0, lodash_1.snakeCase)(key), indexDecoratorOptions);
    }
    else {
        return (target, propertyName) => {
            const indexDecoratorOptions = args[0];
            (0, sequelize_typescript_1.annotateModelWithIndex)(target, (0, lodash_1.snakeCase)(propertyName), indexDecoratorOptions);
        };
    }
}
exports.UnderscoredIndex = UnderscoredIndex;
