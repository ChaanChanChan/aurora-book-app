"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setTimeZoneApplication = void 0;
const common_1 = require("@nestjs/common");
function setTimeZoneApplication(configService, dayjs) {
    if (!configService.get('APP_TIMEZONE'))
        throw new common_1.InternalServerErrorException('APP_TIMEZONE variable is not defined in environment file');
    if (!dayjs().tz(configService.get('APP_TIMEZONE')))
        throw new common_1.InternalServerErrorException(`APP_TIMEZONE environment value has an incorrect value: ${configService.get('APP_TIMEZONE')}`);
    process.env.TZ = configService.get('APP_TIMEZONE');
    dayjs.tz.setDefault(process.env.TZ);
}
exports.setTimeZoneApplication = setTimeZoneApplication;
